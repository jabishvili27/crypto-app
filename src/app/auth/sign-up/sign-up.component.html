<main>
  <section class="py-5 text-center middle">
    <div class="signup">
      <h1>{{ "sign up" | translate }}</h1>
    </div>
  </section>
  <section class="py-5 d-flex justify-content-center">
    <form
      (ngSubmit)="signUp(form)"
      #form="ngForm"
      [mustMatch]="['password', 'repeatPassword']"
    >
      <div class="form-floating mb-2">
        <input
          type="email"
          ngModel
          name="email"
          class="form-control"
          id="floatingInput"
          required
          placeholder="name@example.com"
        />
        <label for="floatingInput">{{ "EMAIL" | translate }}</label>
      </div>
      <div class="form-floating mb-2">
        <input
          type="password"
          ngModel
          name="password"
          #password="ngModel"
          class="form-control"
          id="floatingPassword"
          placeholder="Password"
          required
        />
        <label for="floatingPassword">{{ "PASSWORD" | translate }}</label>
      </div>
      <div class="form-floating mb-2">
        <input
          type="password"
          class="form-control"
          name="repeatPassword"
          ngModel
          #repeatPassword="ngModel"
          id="floatingRepeatPassword"
          placeholder="Password"
          required
        />
        <label for="floatingRepeatPassword">{{
          "REPEAT_PASSWORD" | translate
        }}</label>
      </div>
      <button class="w-100 btn btn-lg btn-outline-secondary" type="submit">
        {{ "sign up" | translate }}
      </button>
      <ng-container *ngIf="form.submitted && form.invalid">
        <div
          class="alert alert-danger mt-3 mb-2"
          role="alert"
          *ngIf="form.controls.email?.errors?.required"
        >
          იმეილი სავალდებულოა
        </div>
        <div
          class="alert alert-danger mt-1"
          role="alert"
          *ngIf="form.controls.password?.errors?.required"
        >
          პაროლი სავალდებულოა
        </div>
        <div
          class="alert alert-danger mt-1"
          role="alert"
          *ngIf="form.controls.repeatPassword?.errors?.required"
        >
          გთხოვთ გაიმეოროთ პაროლი
        </div>
        <div
          class="alert alert-danger mt-1"
          role="alert"
          *ngIf="form.controls.repeatPassword?.errors?.mustMatch"
        >
          პაროლები ერთმანეთს არ ემთხვევა
        </div>
      </ng-container>
    </form>
  </section>
</main>
